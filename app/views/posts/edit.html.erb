<h2>投稿編集画面</h2>
<%= form_with model:@post, url: post_path, local: true do |f| %>
  <%= f.label '画像'%>
  <%= f.attachment_field :image %><br />
  <%= f.label 'タイトル' %>
  <%= f.text_field :title %><br />
  <%= f.label 'カテゴリ' %>
  <%= f.collection_select :category_id, Category.all, :id, :name %><br />
  <!--評価欄-->
  <div class="field", data-score=<%= @post.rate %>, id="star-rate-<%= @post.id %>">
    <%= f.label :rate, "評価：" %>
    <%= f.hidden_field :rate, id: :review_star %>
  </div>
  <%= f.label '説明' %>
  <%= f.text_area :body %><br />
  <%= f.submit '編集内容を保存'%>
<% end %>
<p></p>

<!--評価欄JavaScript-->
<script>
$('#star-rate-<%= @post.id %>').raty({
  size: 36,
  starOff:  '<%= asset_path('star-off.png') %>',
  starOn : '<%= asset_path('star-on.png') %>',
  starHalf: '<%= asset_path('star-half.png') %>',
  scoreName: 'post[rate]',
  half: true,
});
</script>
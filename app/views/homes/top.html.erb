<div class="container">
  <div class="row justify-content-center">
    <div class="col-2">
      <h3>Category</h3>
        <% @categories.each do |category| %>
          <%= link_to category.name, posts_path(category_id: category.id), class: 'links' %> <br />
        <% end %>
    </div>
    <div class="col-7">
      <h1>Shugoへようこそ</h1>
      <!--スライド画像-->
      <div id="slide-container">
        <div id="theTarget">
          <div class="image1"></div>
          <div class="image2"></div>
          <div class="image3"></div>
          <div class="image4"></div>
          <div class="image5"></div>
        </div>
      </div>
    </div>
    <div class="col-3">
      <div class="rank">
        <h3>Ranking</h3>
        <% @all_ranks.each.with_index(1) do |post, i| %>
          <p><%= i %>位 <%= post.title %></p>
          <p>
          <span id="star-rate-<%= post.id %>"></span>
          <script>
              // 繰り返し処理でもidを一意
            $('#star-rate-<%= post.id %>').raty({
              size: 36,
              starOff:  '<%= asset_path('star-off.png') %>',
              starOn : '<%= asset_path('star-on.png') %>',
              starHalf: '<%= asset_path('star-half.png') %>',
              half: true,
              // 読み込み表示のみ
              readOnly: true,
              score: <%= post.rate %>,
            });
          </script>
          </p>
          <p><%= attachment_image_tag post, :image, class: "rank_image" %></p>
        <% end %>
      </div>
    </div>
  </div>
</div>